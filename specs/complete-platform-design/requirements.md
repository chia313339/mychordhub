# MyChordHub 平台完整功能需求

## 專案概述
MyChordHub 是一個專業的線上吉他譜編輯平台，專注於提供直觀易用的和絃譜瀏覽與編輯功能。核心特色包括：Key/Capo 調性轉換、基礎和絃按法顯示、自動播放滾動、響應式設計，特別針對用戶體驗第一和簡潔實用性進行優化。

**核心定位：**
- 以和絃譜為主，六線譜為輔
- 重點在基礎實用的音樂理論功能
- 優秀的手機和PC使用體驗
- 個人使用體驗優先，社群功能簡化

## 使用者故事與驗收標準

### 1. 用戶認證與管理

#### 1.1 用戶註冊
**作為** 新用戶  
**我想要** 建立個人帳戶  
**以便** 使用平台的完整功能

**驗收標準 (EARS格式)：**
- WHEN 用戶訪問註冊頁面 THEN 系統 SHALL 顯示包含電子郵件、密碼、確認密碼、顯示名稱的註冊表單
- WHEN 用戶提交有效註冊資訊 THEN 系統 SHALL 建立新帳戶並發送驗證郵件
- WHEN 用戶提交無效資訊（如重複電子郵件、密碼不符合規則）THEN 系統 SHALL 顯示相應錯誤訊息
- WHEN 密碼長度少於8個字符或缺少大小寫字母和數字 THEN 系統 SHALL 拒絕註冊並提示密碼規則

#### 1.2 用戶登入
**作為** 註冊用戶  
**我想要** 登入我的帳戶  
**以便** 訪問個人化功能

**驗收標準：**
- WHEN 用戶輸入正確的電子郵件和密碼 THEN 系統 SHALL 成功登入並重導向到首頁
- WHEN 用戶輸入錯誤憑證 THEN 系統 SHALL 顯示「電子郵件或密碼錯誤」訊息
- WHEN 用戶帳戶未驗證 THEN 系統 SHALL 提示需要電子郵件驗證
- WHEN 用戶選擇「記住我」THEN 系統 SHALL 保持登入狀態30天

#### 1.3 個人資料管理
**作為** 登入用戶  
**我想要** 管理我的個人資料  
**以便** 維護帳戶資訊

**驗收標準：**
- WHEN 用戶訪問個人資料頁面 THEN 系統 SHALL 顯示可編輯的個人資訊表單
- WHEN 用戶更新顯示名稱或個人簡介 THEN 系統 SHALL 儲存變更並顯示成功訊息
- WHEN 用戶變更密碼 THEN 系統 SHALL 要求輸入目前密碼確認
- WHEN 用戶上傳頭像圖片大於2MB THEN 系統 SHALL 拒絕上傳並提示檔案大小限制

### 2. 歌曲瀏覽功能

#### 2.1 歌曲搜索與篩選
**作為** 用戶  
**我想要** 搜索和篩選歌曲  
**以便** 快速找到想要的吉他譜

**驗收標準：**
- WHEN 用戶在搜索框輸入關鍵字 THEN 系統 SHALL 實時顯示匹配的歌曲建議
- WHEN 用戶執行搜索 THEN 系統 SHALL 在歌曲標題、藝人名稱、歌詞中查找並顯示結果
- WHEN 用戶使用篩選器（調性、難度、風格）THEN 系統 SHALL 根據選擇的條件過濾結果
- WHEN 搜索無結果 THEN 系統 SHALL 顯示「未找到相關歌曲」並提供建議

#### 2.2 歌曲列表展示
**作為** 用戶  
**我想要** 瀏覽歌曲列表  
**以便** 發現感興趣的吉他譜

**驗收標準：**
- WHEN 用戶訪問歌曲列表頁面 THEN 系統 SHALL 顯示歌曲卡片包含標題、藝人、調性、難度、縮圖
- WHEN 用戶點擊排序選項 THEN 系統 SHALL 根據選擇重新排列歌曲（按熱門度、最新、字母序）
- WHEN 用戶滾動到頁面底部 THEN 系統 SHALL 自動載入更多歌曲（無限滾動）
- WHEN 歌曲載入失敗 THEN 系統 SHALL 顯示重試按鈕和錯誤訊息

#### 2.3 歌曲預覽
**作為** 用戶  
**我想要** 預覽吉他譜內容  
**以便** 決定是否要編輯或收藏

**驗收標準：**
- WHEN 用戶點擊歌曲卡片 THEN 系統 SHALL 開啟歌曲詳細頁面顯示完整吉他譜
- WHEN 頁面載入 THEN 系統 SHALL 顯示歌曲資訊（標題、藝人、調性、Capo、BPM）
- WHEN 用戶滾動歌詞 THEN 系統 SHALL 同步高亮顯示對應和絃
- WHEN 歌曲包含六線譜 THEN 系統 SHALL 在歌詞下方顯示六線譜視圖

### 3. 收藏與個人化功能

#### 3.1 歌曲收藏
**作為** 登入用戶  
**我想要** 收藏喜歡的歌曲  
**以便** 稍後快速訪問

**驗收標準：**
- WHEN 用戶點擊歌曲的收藏按鈕 THEN 系統 SHALL 將歌曲加入個人收藏列表
- WHEN 歌曲已被收藏且用戶再次點擊收藏按鈕 THEN 系統 SHALL 從收藏列表移除該歌曲
- WHEN 用戶訪問「我的收藏」頁面 THEN 系統 SHALL 顯示所有收藏的歌曲
- WHEN 用戶未登入且點擊收藏 THEN 系統 SHALL 提示登入並重導向到登入頁面

#### 3.2 收藏分類管理
**作為** 登入用戶  
**我想要** 建立自定義收藏夾  
**以便** 更好地組織我的歌曲

**驗收標準：**
- WHEN 用戶建立新收藏夾 THEN 系統 SHALL 要求輸入收藏夾名稱並儲存
- WHEN 用戶將歌曲加入特定收藏夾 THEN 系統 SHALL 在該收藏夾中顯示歌曲
- WHEN 用戶重新命名收藏夾 THEN 系統 SHALL 更新名稱並保持原有歌曲
- WHEN 用戶刪除收藏夾 THEN 系統 SHALL 要求確認並將其中歌曲移至「未分類」

### 4. 吉他譜編輯功能

#### 4.1 基礎編輯器
**作為** 用戶  
**我想要** 編輯吉他譜的歌詞和和絃  
**以便** 建立或修改歌曲

**驗收標準：**
- WHEN 用戶點擊「編輯」按鈕 THEN 系統 SHALL 進入編輯模式顯示可編輯的歌詞文本框
- WHEN 用戶在歌詞上方輸入和絃符號 THEN 系統 SHALL 實時顯示和絃預覽
- WHEN 用戶輸入無效和絃符號 THEN 系統 SHALL 顯示錯誤提示並建議正確格式
- WHEN 用戶保存變更 THEN 系統 SHALL 儲存吉他譜並返回預覽模式

#### 4.2 和絃自動完成
**作為** 用戶  
**我想要** 在輸入和絃時獲得建議  
**以便** 快速準確地輸入和絃

**驗收標準：**
- WHEN 用戶開始輸入和絃字母 THEN 系統 SHALL 顯示匹配的和絃建議列表
- WHEN 用戶選擇建議的和絃 THEN 系統 SHALL 自動完成輸入並顯示和絃圖
- WHEN 系統檢測到當前調性 THEN 系統 SHALL 優先建議該調性內的和絃
- WHEN 建議列表超過10個和絃 THEN 系統 SHALL 只顯示最相關的10個

#### 4.3 和絃圖顯示
**作為** 用戶  
**我想要** 查看和絃的按法圖示  
**以便** 學習如何彈奏和絃

**驗收標準：**
- WHEN 用戶點擊任何和絃符號 THEN 系統 SHALL 顯示該和絃的指板圖
- WHEN 和絃有多種按法 THEN 系統 SHALL 提供切換按鈕顯示不同版本
- WHEN 和絃無法識別 THEN 系統 SHALL 顯示「未知和絃」並允許用戶自定義
- WHEN 用戶在手機設備上查看 THEN 系統 SHALL 調整和絃圖大小以適合螢幕

### 5. 音樂理論功能

#### 5.1 調性轉換 (Key Transpose)
**作為** 用戶  
**我想要** 轉換歌曲到不同調性  
**以便** 適應我的音域或演奏需求

**驗收標準：**
- WHEN 用戶選擇新的調性 THEN 系統 SHALL 自動轉換所有和絃到相應調性
- WHEN 轉換包含複雜和絃（如7th、sus、add和絃）THEN 系統 SHALL 正確保持和絃結構
- WHEN 轉換後的和絃超出常用範圍 THEN 系統 SHALL 提供替代按法建議
- WHEN 轉換過程中出現錯誤 THEN 系統 SHALL 保持原始調性並顯示錯誤訊息

#### 5.2 Capo 移調計算
**作為** 用戶  
**我想要** 設定 Capo 位置並查看相應和絃變化  
**以便** 使用 Capo 簡化演奏

**驗收標準：**
- WHEN 用戶設定 Capo 在第N格 THEN 系統 SHALL 顯示相應的相對和絃位置
- WHEN 設定 Capo 後 THEN 系統 SHALL 在和絃符號下方顯示實際音高
- WHEN Capo 設定導致和絃位置過高 THEN 系統 SHALL 建議降調或移除 Capo
- WHEN 用戶移除 Capo 設定 THEN 系統 SHALL 恢復原始和絃標記

#### 5.3 基礎音樂理論支援
**作為** 用戶  
**我想要** 獲得基本的音樂理論輔助  
**以便** 更好理解和絃使用

**驗收標準：**
- WHEN 用戶查看和絃 THEN 系統 SHALL 顯示和絃的基本組成音
- WHEN 系統檢測到當前調性 THEN 系統 SHALL 在和絃建議中優先顯示調性內和絃
- WHEN 用戶輸入複雜和絃（7th、sus、add）THEN 系統 SHALL 正確識別並顯示按法
- WHEN 和絃轉換時 THEN 系統 SHALL 保持和絃的音樂結構完整性

### 6. 六線譜功能

#### 6.1 基礎六線譜顯示
**作為** 用戶  
**我想要** 查看和絃的基本按法六線譜  
**以便** 學習和絃怎麼按

**驗收標準：**
- WHEN 用戶點擊和絃符號 THEN 系統 SHALL 顯示該和絃的六線譜按法圖
- WHEN 和絃有多種常用按法 THEN 系統 SHALL 提供切換按鈕顯示不同版本  
- WHEN 用戶在手機上查看 THEN 系統 SHALL 調整六線譜圖大小以適合螢幕
- WHEN 和絃按法顯示 THEN 系統 SHALL 清楚標記品數位置和手指按壓點

#### 6.2 簡化六線譜編輯
**作為** 用戶  
**我想要** 編輯基本的六線譜按法  
**以便** 自定義和絃按法

**驗收標準：**
- WHEN 用戶進入編輯模式 THEN 系統 SHALL 提供簡單的點擊式六線譜編輯器
- WHEN 用戶點擊六線譜位置 THEN 系統 SHALL 允許輸入品數（0-12品）
- WHEN 用戶保存自定義按法 THEN 系統 SHALL 將其設為該和絃的首選按法
- WHEN 六線譜編輯完成 THEN 系統 SHALL 驗證按法的合理性並提供建議

### 7. 自動播放功能

#### 7.1 歌詞滾動播放
**作為** 用戶  
**我想要** 自動滾動播放歌詞  
**以便** 在演奏時跟隨歌曲進度

**驗收標準：**
- WHEN 用戶點擊播放按鈕 THEN 系統 SHALL 開始自動滾動歌詞並高亮當前行
- WHEN 用戶調整播放速度 THEN 系統 SHALL 相應調整滾動速度
- WHEN 用戶點擊暫停 THEN 系統 SHALL 停止滾動並保持當前位置
- WHEN 播放結束 THEN 系統 SHALL 自動停止並返回歌曲開頭

#### 7.2 速度控制
**作為** 用戶  
**我想要** 調整播放速度  
**以便** 適應我的演奏節拍

**驗收標準：**
- WHEN 用戶調整速度滑桿 THEN 系統 SHALL 實時改變滾動速度（50%-200%）
- WHEN 用戶設定 BPM 值 THEN 系統 SHALL 根據 BPM 計算適當的滾動速度
- WHEN 速度設定過快或過慢 THEN 系統 SHALL 顯示建議的速度範圍
- WHEN 用戶重設速度 THEN 系統 SHALL 回到歌曲的原始 BPM 設定

### 8. 基礎音頻功能

#### 8.1 和絃音頻播放
**作為** 用戶  
**我想要** 聽到和絃的聲音  
**以便** 學習和絃的音響效果

**驗收標準：**
- WHEN 用戶點擊和絃符號的播放按鈕 THEN 系統 SHALL 播放該和絃的音頻
- WHEN 播放和絃音頻 THEN 系統 SHALL 使用清晰的吉他音色
- WHEN 用戶調整音量 THEN 系統 SHALL 相應調整播放音量
- WHEN 同時播放多個和絃 THEN 系統 SHALL 停止前一個和絃音頻

#### 8.2 節拍器功能
**作為** 用戶  
**我想要** 使用節拍器配合自動滾動  
**以便** 保持穩定的演奏節拍

**驗收標準：**
- WHEN 用戶啟動節拍器 THEN 系統 SHALL 根據歌曲BPM播放節拍聲
- WHEN 用戶調整BPM設定 THEN 系統 SHALL 同步調整節拍器和滾動速度
- WHEN 節拍器運行時 THEN 系統 SHALL 提供視覺節拍指示器
- WHEN 用戶暫停自動滾動 THEN 系統 SHALL 同時暫停節拍器

### 9. 簡化社群功能

#### 9.1 基礎評分功能
**作為** 登入用戶  
**我想要** 對歌曲進行簡單評分  
**以便** 幫助其他用戶發現好的吉他譜

**驗收標準：**
- WHEN 用戶點擊星星評分 THEN 系統 SHALL 記錄評分並更新歌曲平均分數
- WHEN 用戶查看歌曲列表 THEN 系統 SHALL 顯示歌曲的平均評分
- WHEN 用戶已評分過 THEN 系統 SHALL 顯示用戶的評分並允許修改
- WHEN 用戶未登入 THEN 系統 SHALL 提示登入才能評分

#### 9.2 簡單分享功能
**作為** 用戶  
**我想要** 分享歌曲連結  
**以便** 推薦給朋友

**驗收標準：**
- WHEN 用戶點擊分享按鈕 THEN 系統 SHALL 生成歌曲的直接連結
- WHEN 分享連結被訪問 THEN 系統 SHALL 顯示歌曲基本資訊和內容預覽
- WHEN 用戶複製分享連結 THEN 系統 SHALL 提供成功複製的視覺回饋
- WHEN 歌曲為私人狀態 THEN 系統 SHALL 不允許生成分享連結

### 10. 響應式設計與多設備支援

#### 10.1 手機端適配
**作為** 手機用戶  
**我想要** 在手機上順暢使用所有功能  
**以便** 隨時隨地訪問吉他譜

**驗收標準：**
- WHEN 用戶在手機瀏覽器訪問 THEN 系統 SHALL 自動適配手機螢幕尺寸
- WHEN 用戶在手機上編輯和絃 THEN 系統 SHALL 提供大尺寸觸控按鈕
- WHEN 手機螢幕旋轉 THEN 系統 SHALL 重新調整佈局以充分利用螢幕空間
- WHEN 手機網路較慢 THEN 系統 SHALL 優先載入文字內容再載入圖片

#### 10.2 平板端體驗
**作為** 平板用戶  
**我想要** 充分利用平板的螢幕空間  
**以便** 獲得最佳的閱讀和編輯體驗

**驗收標準：**
- WHEN 用戶在平板上查看歌曲 THEN 系統 SHALL 並排顯示歌詞和和絃圖
- WHEN 平板處於橫向模式 THEN 系統 SHALL 優化佈局以顯示更多內容
- WHEN 用戶使用觸控筆 THEN 系統 SHALL 支援精確的編輯操作
- WHEN 平板支援多任務 THEN 系統 SHALL 保持狀態當用戶切換應用

### 11. 效能與使用者體驗

#### 11.1 載入效能
**作為** 用戶  
**我想要** 快速載入頁面和內容  
**以便** 流暢使用應用

**驗收標準：**
- WHEN 用戶首次訪問網站 THEN 系統 SHALL 在3秒內完成首頁載入
- WHEN 用戶搜索歌曲 THEN 系統 SHALL 在1秒內返回搜索結果
- WHEN 用戶開啟歌曲詳細頁面 THEN 系統 SHALL 在2秒內顯示基本內容
- WHEN 網路連線較慢 THEN 系統 SHALL 顯示載入進度並優化內容載入順序

#### 11.2 錯誤處理與回饋
**作為** 用戶  
**我想要** 在出現問題時獲得清楚的指引  
**以便** 知道如何解決或繼續使用

**驗收標準：**
- WHEN 系統發生錯誤 THEN 系統 SHALL 顯示友善的錯誤訊息而非技術錯誤碼
- WHEN 用戶輸入無效數據 THEN 系統 SHALL 即時顯示驗證錯誤並建議修正方式
- WHEN 網路連線中斷 THEN 系統 SHALL 顯示連線狀態並提供重試選項
- WHEN 操作成功完成 THEN 系統 SHALL 提供視覺回饋確認操作已執行

## 非功能性需求

### 核心設計原則
- **用戶體驗第一**：介面簡單直觀，避免複雜功能影響基本使用
- **響應式優先**：手機和PC都要有良好的使用體驗
- **實用性導向**：專注核心功能（編輯、瀏覽、搜索、自動播放），暫不追求完整性
- **漸進式複雜度**：先實現基礎功能，再逐步增加進階功能

### 效能需求
- 頁面載入時間：首頁 < 3秒，歌曲頁面 < 2秒
- 搜索響應時間：< 1秒
- 併發用戶支援：至少1000個同時在線用戶
- 數據庫查詢響應：< 500ms
- 音頻播放延遲：< 200ms

### 安全需求
- 所有密碼必須加密存儲
- 用戶會話管理採用JWT令牌
- API 接口實施速率限制
- 所有用戶輸入必須進行驗證和清理

### 可用性需求
- 系統可用性：99.5%
- 支援主流瀏覽器：Chrome、Firefox、Safari、Edge
- 響應式設計支援：手機、平板、桌面
- 國際化支援：中文、英文

### 擴展性需求
- 支援水平擴展
- 微服務架構設計
- 數據庫分庫分表準備
- CDN 內容分發支援

## 技術約束
- 前端框架：Vue.js + Vite
- 後端技術：Python + GCP 生態系統
- 資料庫：PostgreSQL + Redis
- 部署平台：Google Cloud Platform
- 音樂理論庫：自研或開源音樂理論套件